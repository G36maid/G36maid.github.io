{"title":"NASA_04","uid":"4c6f7cb483f5717b8db05abc1f481da7","slug":"NASA-04","date":"2024-04-17T09:24:54.000Z","updated":"2024-04-17T09:26:05.724Z","comments":true,"path":"api/articles/NASA-04.json","keywords":null,"cover":[],"content":"<h1 id=\"NASA-HW-04\"><a href=\"#NASA-HW-04\" class=\"headerlink\" title=\"NASA HW 04\"></a>NASA HW 04</h1><p>學生鍾詠傑<br>學號41173058H</p>\n<div style=\"page-break-after:always;\"></div>\n\n<h2 id=\"1-迷星叫\"><a href=\"#1-迷星叫\" class=\"headerlink\" title=\"1. 迷星叫\"></a>1. 迷星叫</h2><h3 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1.\"></a>1.</h3><p>在 Cisco Switch 上我們可以指定一個埠口為 Access Port 或者 Trunk Port，請問這兩者有什麼差異，請完成下列表格。</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>可通過的 VLAN 數量</th>\n<th>802.1Q 標記</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Access Port</td>\n<td>僅限於一個 VLAN</td>\n<td>不進行 802.1Q 標記</td>\n</tr>\n<tr>\n<td>Trunk Port</td>\n<td>可通過多個 VLAN</td>\n<td>進行 802.1Q 標記</td>\n</tr>\n</tbody></table>\n<div style=\"page-break-after:always;\"></div>\n\n<h3 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2.\"></a>2.</h3><p>請問何謂 Trunk Native VLAN？</p>\n<p>Trunk Native VLAN 是指在一個 Trunk Port 上，未標記（即未打上 802.1Q 標籤）的封包所屬的 VLAN。</p>\n<p>當封包從 Trunk Port 進入或離開交換機時，如果封包未標記，則交換機將其視為屬於 Trunk Native VLAN。</p>\n<p>通常情況下，交換機的 Trunk Native VLAN 與管理人員設置的其他 VLAN 是分開的。<br>這樣做的目的是為了確保 Trunk Port 能處理未標記的封包，以及在需要時能夠區分它們屬於哪個 VLAN。</p>\n<div style=\"page-break-after:always;\"></div>\n\n<h3 id=\"3\"><a href=\"#3\" class=\"headerlink\" title=\"3.\"></a>3.</h3><table>\n<thead>\n<tr>\n<th>傳遞方向</th>\n<th>線路 1</th>\n<th>線路 2</th>\n<th>線路 3</th>\n<th>線路 4</th>\n<th>線路 5</th>\n<th>能否抵達</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>PC-01&#x2F;VLAN 10 → PC-02</td>\n<td>10</td>\n<td>10</td>\n<td></td>\n<td></td>\n<td></td>\n<td>可</td>\n</tr>\n<tr>\n<td>PC-01&#x2F;VLAN 20 → PC-02</td>\n<td>20</td>\n<td>X</td>\n<td></td>\n<td></td>\n<td></td>\n<td>否</td>\n</tr>\n<tr>\n<td>PC-01&#x2F;VLAN 10 → PC-04</td>\n<td>10</td>\n<td></td>\n<td>無</td>\n<td></td>\n<td>X</td>\n<td>否</td>\n</tr>\n<tr>\n<td>PC-01&#x2F;VLAN 20 → PC-04</td>\n<td>20</td>\n<td></td>\n<td>20</td>\n<td></td>\n<td>20</td>\n<td>可</td>\n</tr>\n<tr>\n<td>PC-01&#x2F;VLAN 10 → PC-03</td>\n<td>10</td>\n<td></td>\n<td></td>\n<td>10</td>\n<td></td>\n<td>可</td>\n</tr>\n<tr>\n<td>PC-01&#x2F;VLAN 20 → PC-03</td>\n<td>20</td>\n<td></td>\n<td></td>\n<td>20</td>\n<td></td>\n<td>可</td>\n</tr>\n</tbody></table>\n<div style=\"page-break-after:always;\"></div>\n\n<h3 id=\"4\"><a href=\"#4\" class=\"headerlink\" title=\"4.\"></a>4.</h3><p>在這個網路中有機會能透過 Double Tagging Attack 從 PC-01&#x2F;VLAN 10 傳送到 PC-04。</p>\n<p>PC-01 的 VLAN 10 封包通過 Trunk Port 發送到 switch-01，然後通過帶有 VLAN 10 和 VLAN 20 的 Trunk 連接發送到 switch-02。然而，在 switch-01 到 switch-02 的 Trunk 連接上，VLAN 10 被設定為 Native VLAN。</p>\n<p>Native VLAN 是在 Trunk 連接上未打上 VLAN 標籤的默認 VLAN，<br>但在這個情況下，switch-01 將 Native VLAN 設置為 VLAN 10。</p>\n<p>由於 VLAN 10 是 Native VLAN，因此從 switch-01 到 switch-02 的 Trunk 連接上傳輸的 VLAN 10 封包將不會被打上 VLAN 標籤。因此，當這些不帶 VLAN 標籤的封包到達 switch-02 時，switch-02 將會將它們視為屬於其本地 VLAN 20（即目標 VLAN）的封包進行處理。</p>\n<p>所以 PC-01 發送的 VLAN 10 封包在特定情況下能夠發送到 PC-02 。</p>\n<div style=\"page-break-after:always;\"></div>\n\n<h2 id=\"2-春日影\"><a href=\"#2-春日影\" class=\"headerlink\" title=\"2. 春日影\"></a>2. 春日影</h2><h3 id=\"part1\"><a href=\"#part1\" class=\"headerlink\" title=\"part1\"></a>part1</h3><p>密碼有以下</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">enable secret 5 $1$mERr$xOBRtHD8zJf.94CGVuvjw/</span><br><span class=\"line\">username RiNG privilege 15 password 7 0813435D0C150C16</span><br></pre></td></tr></table></figure>\n<p>一種是Cisco的Type 7加密形式，一種是Type 5加密形式。<br>前者是Cisco自己的加密形式，存在多年，但是這種加密方式很簡單，是可以進行破解的。<br>後者相當於MD5加密，是無法被破解的。</p>\n<p>透過 0813435D0C150C16 經過解密工具<br>可以知道密碼是<code>Roselia</code></p>\n<p>工具:<br><a href=\"https://www.firewall.cx/cisco/cisco-routers/cisco-type7-password-crack.html\">https://www.firewall.cx/cisco/cisco-routers/cisco-type7-password-crack.html</a></p>\n<div style=\"page-break-after:always;\"></div>\n\n<h3 id=\"part2\"><a href=\"#part2\" class=\"headerlink\" title=\"part2\"></a>part2</h3><p>建立VLAN 20,30<br>將 Fa0&#x2F;1-3 規劃到 Vlan 20 設定為access，<br>將 Fa0&#x2F;11-12 規劃到 vlan 30 設定為access，</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RiNG-Core(config)#vlan 20</span><br><span class=\"line\">RiNG-Core(config-vlan)#exit</span><br><span class=\"line\">RiNG-Core(config)#vlan 30</span><br><span class=\"line\">RiNG-Core(config-vlan)#exit</span><br><span class=\"line\"></span><br><span class=\"line\">RiNG-Core(config)#interface range fastEthernet 0/1-3</span><br><span class=\"line\">RiNG-Core(config-if-range)#switchport access vlan 20</span><br><span class=\"line\">RiNG-Core(config-if-range)#exit</span><br><span class=\"line\"></span><br><span class=\"line\">RiNG-Core(config)#interface range fastEthernet 0/11-12</span><br><span class=\"line\">RiNG-Core(config-if-range)#switchport mode access </span><br><span class=\"line\">RiNG-Core(config-if-range)#switchport access vlan 30</span><br><span class=\"line\">RiNG-Core(config-if-range)#exit</span><br></pre></td></tr></table></figure>\n<p>RiNG-Edge 中<br>建立Vlan 20 並<br>將 Fa0&#x2F;21-22 規劃到 Vlan 20 設定為access</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RiNG-Edge(config)#vlan 20</span><br><span class=\"line\">RiNG-Edge(config-vlan)#exit</span><br><span class=\"line\"></span><br><span class=\"line\">RiNG-Edge(config)#interface range fastEthernet 0/21-22</span><br><span class=\"line\">RiNG-Edge(config-if-range)#switchport mode access </span><br><span class=\"line\">RiNG-Edge(config-if-range)#switchport access vlan 20</span><br><span class=\"line\">RiNG-Edge(config-if-range)#exit</span><br></pre></td></tr></table></figure>\n<p>以下設定在RiNG-Core RiNG-Edge 中都有做<br>刪除vlan 10 </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RiNG-Core# configure terminal</span><br><span class=\"line\">RiNG-Core(config)#</span><br><span class=\"line\">RiNG-Core(config)# no vlan 10</span><br></pre></td></tr></table></figure>\n<p>改名vlan 20 30</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RiNG-Core(config)#vlan 20</span><br><span class=\"line\">RiNG-Core(config-vlan)#name VLAN-MyGO</span><br><span class=\"line\">RiNG-Core(config-vlan)#exit</span><br><span class=\"line\">RiNG-Core(config)#vlan 30</span><br><span class=\"line\">RiNG-Core(config-vlan)#name VLAN-AveMujica</span><br><span class=\"line\">RiNG-Core(config-vlan)#exit</span><br></pre></td></tr></table></figure>\n<p>將swithc 0-1 中 Gi 0&#x2F;1-2 設為 port-channel 開啟 Trunk模式</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">### Trunk : 多個 VLAN</span><br><span class=\"line\">RiNG-Core(config)# interface GigabitEthernet 0/1-2\t\t// specify interface</span><br><span class=\"line\">RiNG-Core(config-if-range)# switchport mode trunk\t\t\t\t// force mode TRUNK</span><br><span class=\"line\">RiNG-Core(config-if-range)# switchport trunk allowed vlan 20,99</span><br><span class=\"line\">RiNG-Core(config-if)# exit</span><br><span class=\"line\"></span><br><span class=\"line\">// 1. add physical ports into port channel</span><br><span class=\"line\">RiNG-Core(config-if)# interface range GigabitEthernet 0/1-2</span><br><span class=\"line\">RiNG-Core(config-if-range)# channel-group 1 mode active</span><br><span class=\"line\">RiNG-Core(config-if-range)# exit</span><br><span class=\"line\"></span><br><span class=\"line\">// 2. create a new port channel</span><br><span class=\"line\">RiNG-Core(config)# interface port-channel 1</span><br><span class=\"line\">RiNG-Core(config-if)# switchport mode trunk</span><br><span class=\"line\">RiNG-Core(config-if)# switchport trunk allowed vlan 20,99</span><br><span class=\"line\">RiNG-Core(config-if)# exit</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<div style=\"page-break-after:always;\"></div>\n\n<h3 id=\"part3\"><a href=\"#part3\" class=\"headerlink\" title=\"part3\"></a>part3</h3><h4 id=\"調整帳號-RiNG-的密碼為-secret-模式，且更改密碼為-Afterglow\"><a href=\"#調整帳號-RiNG-的密碼為-secret-模式，且更改密碼為-Afterglow\" class=\"headerlink\" title=\"調整帳號 RiNG 的密碼為 secret 模式，且更改密碼為 Afterglow\"></a>調整帳號 RiNG 的密碼為 secret 模式，且更改密碼為 Afterglow</h4><p>如過對兩個密碼使用相同的用戶名<br>所以我採取以下措施:<br>添加帶有秘密密碼的新用戶&lt;&lt;-這作為備份，以防刪除舊用戶名後無法存取任何內容。<br>刪除舊的用戶名命令，然後使用秘密密碼再次添加它。</p>\n<p>以下設定在 RiNG-Core 跟 RiNG-Edge 中的做法一樣</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RiNG-Core(config)#username RiNG_backup secret Roselia</span><br><span class=\"line\">RiNG-Core(config)#exit</span><br><span class=\"line\">RiNG-Core#</span><br><span class=\"line\">RiNG-Core#write memory </span><br><span class=\"line\">Building configuration...</span><br><span class=\"line\">[OK]</span><br><span class=\"line\">RiNG-Core#configure terminal </span><br><span class=\"line\">RiNG-Core(config)#no username RiNG</span><br><span class=\"line\">RiNG-Core(config)#exit</span><br><span class=\"line\">RiNG-Core#write memory </span><br><span class=\"line\">Building configuration...</span><br><span class=\"line\">[OK]</span><br><span class=\"line\">RiNG-Core#conf t</span><br><span class=\"line\">RiNG-Core(config)#username RiNG secret Afterglow</span><br><span class=\"line\">RiNG-Core(config)#no username RiNG_backup</span><br><span class=\"line\">RiNG-Core(config)#exit</span><br><span class=\"line\">RiNG-Core#write memory</span><br><span class=\"line\">Building configuration...</span><br><span class=\"line\">[OK]</span><br></pre></td></tr></table></figure>\n<h4 id=\"啟動-RiNG-Core-的-Telnet-SSH-登入\"><a href=\"#啟動-RiNG-Core-的-Telnet-SSH-登入\" class=\"headerlink\" title=\"啟動 RiNG-Core 的 Telnet&#x2F;SSH 登入\"></a>啟動 RiNG-Core 的 Telnet&#x2F;SSH 登入</h4><p>這部分 RiNG-Edge 不用做</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RiNG-Core(config)# ip domain-name Ring_Core</span><br><span class=\"line\">RiNG-Core(config)# crypto key gen rsa</span><br><span class=\"line\">輸入1024</span><br></pre></td></tr></table></figure>\n<h4 id=\"設定-RiNG-Core-和-RiNG-Edge-的-vty-0-4-都可以使用-a-的帳密且只能透過-SSH-登入\"><a href=\"#設定-RiNG-Core-和-RiNG-Edge-的-vty-0-4-都可以使用-a-的帳密且只能透過-SSH-登入\" class=\"headerlink\" title=\"設定 RiNG-Core 和 RiNG-Edge 的 vty 0-4 都可以使用 (a) 的帳密且只能透過 SSH 登入\"></a>設定 RiNG-Core 和 RiNG-Edge 的 vty 0-4 都可以使用 (a) 的帳密且只能透過 SSH 登入</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RiNG-Core(config)# line vty 0 4</span><br><span class=\"line\">RiNG-Core(config-line)# transport input ssh</span><br><span class=\"line\">RiNG-Core(config-line)# login local</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"設定-RiNG-Core-和-RiNG-Edge-的-vty-5-15-都無法登入\"><a href=\"#設定-RiNG-Core-和-RiNG-Edge-的-vty-5-15-都無法登入\" class=\"headerlink\" title=\"設定 RiNG-Core 和 RiNG-Edge 的 vty 5-15 都無法登入\"></a>設定 RiNG-Core 和 RiNG-Edge 的 vty 5-15 都無法登入</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RiNG-Core(config)# line vty 5 15</span><br><span class=\"line\">RiNG-Core(config-line)# transport input none</span><br></pre></td></tr></table></figure>\n<h4 id=\"設定-RiNG-Core-和-RiNG-Edge-的-SSH-版本為-v2\"><a href=\"#設定-RiNG-Core-和-RiNG-Edge-的-SSH-版本為-v2\" class=\"headerlink\" title=\"設定 RiNG-Core 和 RiNG-Edge 的 SSH 版本為 v2\"></a>設定 RiNG-Core 和 RiNG-Edge 的 SSH 版本為 v2</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RiNG-Core(config)# ip ssh version 2</span><br><span class=\"line\">RiNG-Core(config)# do wr //儲存</span><br></pre></td></tr></table></figure>\n\n<div style=\"page-break-after:always;\"></div>\n\n<h2 id=\"3-無路矢\"><a href=\"#3-無路矢\" class=\"headerlink\" title=\"3. 無路矢\"></a>3. 無路矢</h2><h3 id=\"1-1\"><a href=\"#1-1\" class=\"headerlink\" title=\"1.\"></a>1.</h3><p><img src=\"https://hackmd.io/_uploads/B1Rv88V0a.png\" alt=\"Capturing from 乙太網路 2024_3_17 下午 07_39_10\"></p>\n<p>以上是經過手動&#x2F;release &#x2F;renew 之後，使用Wireshark觀察手動filter DHCP<br>在使用Wireshark來觀察通過DHCP協定自動取得網路組態的過程時，我們可以觀察到以下四個階段，也就是DORA：</p>\n<ol>\n<li><p><strong>Discover (尋找)：</strong> 在這個階段，客戶端（即你的電腦）向網絡中的DHCP伺服器發送尋找請求。這個尋找請求是一個廣播消息，目的是尋找可用的DHCP伺服器。</p>\n</li>\n<li><p><strong>Offer (提供)：</strong> DHCP伺服器收到尋找請求後，如果有可用的IP地址和設定資訊，就會向客戶端發送一個提供消息。這個消息包含了IP地址、子網掩碼、網關等資訊。</p>\n</li>\n<li><p><strong>Request (請求)：</strong> 客戶端收到一個或多個提供消息後，會從中選擇一個提供消息，然後向該DHCP伺服器發送一個請求消息，表示接受該伺服器提供的設定資訊。</p>\n</li>\n<li><p><strong>Acknowledge (確認)：</strong> DHCP伺服器收到請求消息後，會向客戶端發送一個確認消息，表示客戶端可以開始使用提供的IP地址和設定資訊了。</p>\n</li>\n</ol>\n<p>這四個階段共同構成了DHCP的過程，使得客戶端可以自動獲得網路設定資訊，而無需手動設定。</p>\n<div style=\"page-break-after:always;\"></div>\n\n<h3 id=\"2-1\"><a href=\"#2-1\" class=\"headerlink\" title=\"2.\"></a>2.</h3><p>在DHCP Discover階段中，以下是特殊的IP&#x2F;MAC地址以及它們的含義：</p>\n<ul>\n<li><p><strong>IP 0.0.0.0</strong>：</p>\n<ul>\n<li>涵義：表示客戶端尚未擁有有效的IP地址。</li>\n<li>原因：在DHCP Discover階段，客戶端尚未獲得有效的IP地址，因此它在尋找可用的DHCP伺服器時使用0.0.0.0作為源IP地址。</li>\n</ul>\n</li>\n<li><p><strong>IP 255.255.255.255</strong>：</p>\n<ul>\n<li>涵義：表示廣播地址，用於將消息發送到網絡中的所有主機。</li>\n<li>原因：在DHCP Discover階段，客戶端尋找可用的DHCP伺服器，因此將尋找請求消息廣播到網絡中的所有主機，以便任何可用的DHCP伺服器都能接收到。</li>\n</ul>\n</li>\n<li><p><strong>MAC FF:FF:FF:FF:FF:FF</strong>：</p>\n<ul>\n<li>涵義：表示廣播MAC地址，用於將消息發送到網絡中的所有主機。</li>\n<li>原因：與IP 255.255.255.255相似，在以太網中，MAC地址FF:FF:FF:FF:FF:FF是一個特殊的廣播地址，它將消息發送到網絡中的所有主機，以便任何可用的DHCP伺服器都能接收到尋找請求消息。</li>\n</ul>\n</li>\n</ul>\n<p>在DHCP Discover階段，使用這些特殊地址可以確保所有的DHCP伺服器都能收到尋找請求訊息(對所有人請求)</p>\n<div style=\"page-break-after:always;\"></div>\n\n<h3 id=\"３\"><a href=\"#３\" class=\"headerlink\" title=\"３.\"></a>３.</h3><p>以下是對RiNG-Core 進行 dhcp snooping 的方式<br>並對FA0&#x2F;22設定為信任(預設為否)</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RiNG-Core#conf terminal </span><br><span class=\"line\">Enter configuration commands, one per line.  End with CNTL/Z.</span><br><span class=\"line\">RiNG-Core(config)#ip dhcp snooping vlan 1</span><br><span class=\"line\">RiNG-Core(config)#in</span><br><span class=\"line\">RiNG-Core(config)#interface fa</span><br><span class=\"line\">RiNG-Core(config)#interface fastEthernet 0/22</span><br><span class=\"line\">RiNG-Core(config-if)#ip dh</span><br><span class=\"line\">RiNG-Core(config-if)#ip dhcp s</span><br><span class=\"line\">RiNG-Core(config-if)#ip dhcp snooping t</span><br><span class=\"line\">RiNG-Core(config-if)#ip dhcp snooping trust </span><br><span class=\"line\">RiNG-Core(config-if)#exit</span><br></pre></td></tr></table></figure>\n<p>Ref:<br><a href=\"https://www.youtube.com/watch?v=2eNsoS9Ri6w&ab_channel=NorthwoodsPS\">https://www.youtube.com/watch?v=2eNsoS9Ri6w&amp;ab_channel=NorthwoodsPS</a></p>\n<div style=\"page-break-after:always;\"></div>\n\n<h2 id=\"指令備份\"><a href=\"#指令備份\" class=\"headerlink\" title=\"指令備份\"></a>指令備份</h2><h3 id=\"mode\"><a href=\"#mode\" class=\"headerlink\" title=\"mode\"></a>mode</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">meow&gt;\t\t\t\t\t\t\t\t\t\t\t// user EXEC</span><br><span class=\"line\">meow&gt; enable</span><br><span class=\"line\">meow#\t\t\t\t\t\t\t\t\t\t\t// privileged EXEC</span><br><span class=\"line\">meow# configure terminal</span><br><span class=\"line\">meow(config)#\t\t\t\t\t\t\t\t\t// global configuration</span><br><span class=\"line\">meow(config)# interface GigabitEthernet 1/0/1</span><br><span class=\"line\">meow(config-if)#\t\t\t\t\t\t\t\t\t// interface configuration</span><br><span class=\"line\">meow(config-if)# exit</span><br><span class=\"line\">meow(config)#\t\t\t\t\t\t\t\t\t// global configuration</span><br><span class=\"line\">meow(config)# exit</span><br><span class=\"line\">meow#\t\t\t\t\t\t\t\t\t\t\t// privileged EXEC</span><br><span class=\"line\">meow# disable</span><br><span class=\"line\">meow&gt;\t\t\t\t\t\t\t\t\t\t\t// user EXEC</span><br></pre></td></tr></table></figure>\n<h3 id=\"VLAN\"><a href=\"#VLAN\" class=\"headerlink\" title=\"VLAN\"></a>VLAN</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">meow(config)# vlan 99\t\t\t\t\t\t\t\t// create a vlan</span><br><span class=\"line\">meow(config-vlan)# exit</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"Access-單一-VLAN\"><a href=\"#Access-單一-VLAN\" class=\"headerlink\" title=\"Access : 單一 VLAN\"></a>Access : 單一 VLAN</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">meow(config)# interface FastEthernet 1/0/1\t\t\t// specify interface</span><br><span class=\"line\">meow(config-if)# switchport mode access\t\t\t// force mode ACCESS</span><br><span class=\"line\">meow(config-if)# switchport access vlan 123</span><br><span class=\"line\">meow(config-if)# exi</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"Trunk-多個-VLAN\"><a href=\"#Trunk-多個-VLAN\" class=\"headerlink\" title=\"Trunk : 多個 VLAN\"></a>Trunk : 多個 VLAN</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">meow(config)# interface GigabitEthernet 1/0/2\t\t// specify interface</span><br><span class=\"line\">meow(config-if)# switchport mode trunk\t\t\t\t// force mode TRUNK</span><br><span class=\"line\">meow(config-if)# switchport trunk allowed vlan 1-10,123</span><br><span class=\"line\">meow(config-if)# exit</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"Port-Channel-多個-Port\"><a href=\"#Port-Channel-多個-Port\" class=\"headerlink\" title=\"Port Channel : 多個 Port\"></a>Port Channel : 多個 Port</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 1. add physical ports into port channel</span><br><span class=\"line\">meow(config-if)# interface range GigabitEthernet 1/0/1-4 </span><br><span class=\"line\">meow(config-if-range)# channel-group 1 mode active</span><br><span class=\"line\">meow(config-if-range)# exit</span><br><span class=\"line\"></span><br><span class=\"line\">// 2. create a new port channel</span><br><span class=\"line\">meow(config)# interface port-channel 1</span><br><span class=\"line\">meow(config-if)# switchport mode trunk</span><br><span class=\"line\">meow(config-if)# switchport trunk allowed vlan 1-10,123</span><br><span class=\"line\">meow(config-if)# exit</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"other\"><a href=\"#other\" class=\"headerlink\" title=\"other\"></a>other</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">meow# copy running-config startup-config\t// method 1</span><br><span class=\"line\">meow# write memory\t\t\t\t\t\t// method 2</span><br><span class=\"line\">meow(config)# do wr</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">meow# show ...\t\t\t\t\t// in privileged EXEC</span><br><span class=\"line\">meow(config)# do show ...\t\t\t// at or above global configuration</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3>","text":"NASA HW 04學生鍾詠傑學號41173058H 1. 迷星叫1.在 Cisco Switch 上我們可以指定一個埠口為 Access Port 或者 Tr...","permalink":"/post/NASA-04","photos":[],"count_time":{"symbolsCount":"7.8k","symbolsTime":"7 mins."},"categories":[],"tags":[{"name":"NASA","slug":"NASA","count":8,"path":"api/tags/NASA.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#NASA-HW-04\"><span class=\"toc-text\">NASA HW 04</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-%E8%BF%B7%E6%98%9F%E5%8F%AB\"><span class=\"toc-text\">1. 迷星叫</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1\"><span class=\"toc-text\">1.</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2\"><span class=\"toc-text\">2.</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3\"><span class=\"toc-text\">3.</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4\"><span class=\"toc-text\">4.</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-%E6%98%A5%E6%97%A5%E5%BD%B1\"><span class=\"toc-text\">2. 春日影</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#part1\"><span class=\"toc-text\">part1</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#part2\"><span class=\"toc-text\">part2</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#part3\"><span class=\"toc-text\">part3</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AA%BF%E6%95%B4%E5%B8%B3%E8%99%9F-RiNG-%E7%9A%84%E5%AF%86%E7%A2%BC%E7%82%BA-secret-%E6%A8%A1%E5%BC%8F%EF%BC%8C%E4%B8%94%E6%9B%B4%E6%94%B9%E5%AF%86%E7%A2%BC%E7%82%BA-Afterglow\"><span class=\"toc-text\">調整帳號 RiNG 的密碼為 secret 模式，且更改密碼為 Afterglow</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%95%9F%E5%8B%95-RiNG-Core-%E7%9A%84-Telnet-SSH-%E7%99%BB%E5%85%A5\"><span class=\"toc-text\">啟動 RiNG-Core 的 Telnet&#x2F;SSH 登入</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%A8%AD%E5%AE%9A-RiNG-Core-%E5%92%8C-RiNG-Edge-%E7%9A%84-vty-0-4-%E9%83%BD%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8-a-%E7%9A%84%E5%B8%B3%E5%AF%86%E4%B8%94%E5%8F%AA%E8%83%BD%E9%80%8F%E9%81%8E-SSH-%E7%99%BB%E5%85%A5\"><span class=\"toc-text\">設定 RiNG-Core 和 RiNG-Edge 的 vty 0-4 都可以使用 (a) 的帳密且只能透過 SSH 登入</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%A8%AD%E5%AE%9A-RiNG-Core-%E5%92%8C-RiNG-Edge-%E7%9A%84-vty-5-15-%E9%83%BD%E7%84%A1%E6%B3%95%E7%99%BB%E5%85%A5\"><span class=\"toc-text\">設定 RiNG-Core 和 RiNG-Edge 的 vty 5-15 都無法登入</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%A8%AD%E5%AE%9A-RiNG-Core-%E5%92%8C-RiNG-Edge-%E7%9A%84-SSH-%E7%89%88%E6%9C%AC%E7%82%BA-v2\"><span class=\"toc-text\">設定 RiNG-Core 和 RiNG-Edge 的 SSH 版本為 v2</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-%E7%84%A1%E8%B7%AF%E7%9F%A2\"><span class=\"toc-text\">3. 無路矢</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-1\"><span class=\"toc-text\">1.</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-1\"><span class=\"toc-text\">2.</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%EF%BC%93\"><span class=\"toc-text\">３.</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%8C%87%E4%BB%A4%E5%82%99%E4%BB%BD\"><span class=\"toc-text\">指令備份</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#mode\"><span class=\"toc-text\">mode</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#VLAN\"><span class=\"toc-text\">VLAN</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Access-%E5%96%AE%E4%B8%80-VLAN\"><span class=\"toc-text\">Access : 單一 VLAN</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Trunk-%E5%A4%9A%E5%80%8B-VLAN\"><span class=\"toc-text\">Trunk : 多個 VLAN</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Port-Channel-%E5%A4%9A%E5%80%8B-Port\"><span class=\"toc-text\">Port Channel : 多個 Port</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#other\"><span class=\"toc-text\">other</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\"><span class=\"toc-text\"></span></a></li></ol></li></ol></li></ol>","author":{"name":"G36maid","slug":"blog-author","avatar":"https://i.imgur.com/iNUcO0p.jpg","link":"/","description":"","socials":{"github":"https://github.com/G36maid","twitter":"https://twitter.com/SjLwrO14y68R3Dw","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"NASA_05","uid":"06d3fa457e0ee4bf4bee8db1994da05c","slug":"NASA-05","date":"2024-04-17T09:24:57.000Z","updated":"2024-04-17T09:26:14.884Z","comments":true,"path":"api/articles/NASA-05.json","keywords":null,"cover":[],"text":"NASA hw5info學號: 41173058h學生: 鍾詠傑 References Lab 5Slides: https://docs.google.com...","permalink":"/post/NASA-05","photos":[],"count_time":{"symbolsCount":"15k","symbolsTime":"14 mins."},"categories":[],"tags":[{"name":"NASA","slug":"NASA","count":8,"path":"api/tags/NASA.json"}],"author":{"name":"G36maid","slug":"blog-author","avatar":"https://i.imgur.com/iNUcO0p.jpg","link":"/","description":"","socials":{"github":"https://github.com/G36maid","twitter":"https://twitter.com/SjLwrO14y68R3Dw","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"NASA_03","uid":"66df10df79d3818424f375d9653b2719","slug":"NASA-03","date":"2024-04-17T09:24:51.000Z","updated":"2024-04-17T09:25:55.974Z","comments":true,"path":"api/articles/NASA-03.json","keywords":null,"cover":[],"text":"NASA HW3refb12202064Arch wiki 1 Initial partition使用 cfdisk 建立分區 2 RAID Setup使用 m...","permalink":"/post/NASA-03","photos":[],"count_time":{"symbolsCount":"3.6k","symbolsTime":"3 mins."},"categories":[],"tags":[{"name":"NASA","slug":"NASA","count":8,"path":"api/tags/NASA.json"}],"author":{"name":"G36maid","slug":"blog-author","avatar":"https://i.imgur.com/iNUcO0p.jpg","link":"/","description":"","socials":{"github":"https://github.com/G36maid","twitter":"https://twitter.com/SjLwrO14y68R3Dw","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}