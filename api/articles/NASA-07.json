{"title":"NASA_07","uid":"68feca09aac0552215aca57d4d8ec8e7","slug":"NASA-07","date":"2024-04-17T09:25:03.000Z","updated":"2024-04-17T09:26:33.784Z","comments":true,"path":"api/articles/NASA-07.json","keywords":null,"cover":[],"content":"<h1 id=\"NASA-HW-7\"><a href=\"#NASA-HW-7\" class=\"headerlink\" title=\"NASA HW 7\"></a>NASA HW 7</h1><ul>\n<li>41173058h</li>\n<li>鍾詠傑</li>\n</ul>\n<h2 id=\"ref\"><a href=\"#ref\" class=\"headerlink\" title=\"ref\"></a>ref</h2><p><a href=\"https://www.iana.org/domains/root/servers\">root name servers</a><br><a href=\"https://doc.powerdns.com/authoritative/backends/\">pDNS doc</a><br><a href=\"https://github.com/PowerDNS\">pDNS github</a><br><a href=\"https://github.com/powerdns/pdns/wiki\">pDNS wiki</a><br><a href=\"https://doc.powerdns.com/authoritative/guides/basic-database.html\">pDNSdocs</a><br><a href=\"https://www.reddit.com/r/sysadmin/comments/jac1mu/powerdns_error_unable_to_bind_udp_socket_to/\">socker sol</a><br><a href=\"https://learn.microsoft.com/zh-tw/windows/wsl/systemd\">systemd</a><br><a href=\"https://doc.powerdns.com/authoritative/backends/generic-sqlite3.html\">backend</a><br><a href=\"https://github.com/PowerDNS-Admin/PowerDNS-Admin\">PowerDNS-Admin</a><br><a href=\"https://github.com/PowerDNS-Admin/PowerDNS-Admin/blob/master/docs/wiki/install/General.md\">General installation</a></p>\n<p><a href=\"https://github.com/PowerDNS-Admin/PowerDNS-Admin/blob/master/docs/wiki/install/Running-PowerDNS-Admin-on-Ubuntu-or-Debian.md\">Installing PowerDNS-Admin on Ubuntu or Debian based systems</a></p>\n<div style=\"page-break-after:always;\"></div>\n\n\n<h2 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h2><h3 id=\"1-DNS\"><a href=\"#1-DNS\" class=\"headerlink\" title=\"1 DNS\"></a>1 DNS</h3><ol>\n<li>DNS 是 Domain Name System 的縮寫，它是一種用於將人類可讀的域名轉換為電腦可理解的 IP 地址的分散式命名系統。當您在瀏覽器中輸入網址時，例如”<a href=\"http://www.example.com\",瀏覽器需要知道該網址對應的伺服器的/\">www.example.com&quot;，瀏覽器需要知道該網址對應的伺服器的</a> IP 地址，以便建立連接。DNS 就像是互聯網的電話簿，它將域名映射到相應的 IP 地址，從而使網際網路上的設備能夠相互通信。</li>\n</ol>\n<div style=\"page-break-after:always;\"></div>\n\n\n<h3 id=\"2-DDNS\"><a href=\"#2-DDNS\" class=\"headerlink\" title=\"2 DDNS\"></a>2 DDNS</h3><ol start=\"2\">\n<li>DDNS 是 Dynamic Domain Name System 的縮寫，它是一種動態域名系統。與傳統的靜態 DNS 不同，DDNS 允許動態分配 IP 地址的設備（例如家庭路由器）在其 IP 地址更改時更新其對應的域名記錄。這對於家庭用戶或小型企業而言特別有用，因為它們通常使用的是動態 IP 地址，而不是靜態 IP 地址。透過使用 DDNS，這些設備可以始終使用相同的域名訪問，而不必擔心其 IP 地址變化導致連接問題。</li>\n</ol>\n<div style=\"page-break-after:always;\"></div>\n\n\n<h3 id=\"3-root-name-servers\"><a href=\"#3-root-name-servers\" class=\"headerlink\" title=\"3 root name servers\"></a>3 root name servers</h3><p>全球共有13台 root name servers</p>\n<p><a href=\"https://www.iana.org/domains/root/servers\">root name servers</a></p>\n<div style=\"page-break-after:always;\"></div>\n\n\n<h3 id=\"4-TXT-records\"><a href=\"#4-TXT-records\" class=\"headerlink\" title=\"4 TXT records\"></a>4 TXT records</h3><p>除了作為註解之外，TXT 記錄還有許多實際應用，其中之一是用於電子郵件驗證。例如，SPF（Sender Policy Framework）和 DKIM（DomainKeys Identified Mail）是兩種常見的電子郵件驗證機制，它們都使用 TXT 記錄來實現。</p>\n<p>以 SPF 為例，域名的管理者可以在其 DNS 設置中添加一個 TXT 記錄，該記錄包含一組允許發送電子郵件的郵件伺服器的 IP 地址。當接收者的郵件伺服器收到一封郵件時，它可以查詢發件人域名的 SPF 記錄，以驗證郵件是否來自已授權的郵件伺服器。這有助於減少垃圾郵件和偽造郵件的風險，提高電子郵件傳遞的可靠性和安全性。</p>\n<div style=\"page-break-after:always;\"></div>\n\n\n<h2 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h2><h3 id=\"結果\"><a href=\"#結果\" class=\"headerlink\" title=\"結果\"></a>結果</h3><p>&#96;根據您提供的查詢結果，從根名稱伺服器到 <a href=\"http://www.csie.ntu.edu.tw/\">www.csie.ntu.edu.tw</a> 的查詢路徑如下：</p>\n<ol>\n<li><p>根名稱伺服器：</p>\n<ul>\n<li>IP: a.root-servers.net.</li>\n<li>IP: b.root-servers.net.</li>\n<li>IP: c.root-servers.net.</li>\n<li>IP: d.root-servers.net.</li>\n<li>IP: e.root-servers.net.</li>\n<li>IP: f.root-servers.net.</li>\n<li>IP: g.root-servers.net.</li>\n<li>IP: h.root-servers.net.</li>\n<li>IP: i.root-servers.net.</li>\n<li>IP: j.root-servers.net.</li>\n<li>IP: k.root-servers.net.</li>\n<li>IP: l.root-servers.net.</li>\n<li>IP: m.root-servers.net.</li>\n</ul>\n</li>\n<li><p>.tw 名稱伺服器：</p>\n<ul>\n<li>tw. NS a.dns.tw.</li>\n<li>tw. NS b.dns.tw.</li>\n<li>tw. NS c.dns.tw.</li>\n<li>tw. NS d.dns.tw.</li>\n<li>tw. NS e.dns.tw.</li>\n<li>tw. NS f.dns.tw.</li>\n<li>tw. NS g.dns.tw.</li>\n<li>tw. NS h.dns.tw.</li>\n<li>tw. NS anytld.apnic.net.</li>\n</ul>\n</li>\n<li><p>ntu.edu.tw 名稱伺服器：</p>\n<ul>\n<li>ntu.edu.tw. NS dns.ntu.edu.tw.</li>\n<li>ntu.edu.tw. NS ntu3.ntu.edu.tw.</li>\n<li>ntu.edu.tw. NS dns.tp1rc.edu.tw.</li>\n</ul>\n</li>\n<li><p>csie.ntu.edu.tw 名稱伺服器：</p>\n<ul>\n<li>csie.ntu.edu.tw. NS csman2.csie.ntu.edu.tw.</li>\n<li>csie.ntu.edu.tw. NS ntuns.ntu.edu.tw.</li>\n<li>csie.ntu.edu.tw. NS csman.csie.ntu.edu.tw.</li>\n</ul>\n</li>\n<li><p><a href=\"http://www.csie.ntu.edu.tw/\">www.csie.ntu.edu.tw</a> 的 IP 地址：</p>\n<ul>\n<li><a href=\"http://www.csie.ntu.edu.tw/\">www.csie.ntu.edu.tw</a>. A 140.112.30.26</li>\n</ul>\n</li>\n</ol>\n<div style=\"page-break-after:always;\"></div>\n\n<h3 id=\"result\"><a href=\"#result\" class=\"headerlink\" title=\"result\"></a>result</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">miku@DESKTOP-HLSSCVT:~$ dig +trace www.csie.ntu.edu.tw</span><br><span class=\"line\"></span><br><span class=\"line\">; &lt;&lt;&gt;&gt; DiG 9.18.18-0ubuntu0.22.04.2-Ubuntu &lt;&lt;&gt;&gt; +trace www.csie.ntu.edu.tw</span><br><span class=\"line\">;; global options: +cmd</span><br><span class=\"line\">.                       87203   IN      NS      a.root-servers.net.</span><br><span class=\"line\">.                       87203   IN      NS      b.root-servers.net.</span><br><span class=\"line\">.                       87203   IN      NS      c.root-servers.net.</span><br><span class=\"line\">.                       87203   IN      NS      d.root-servers.net.</span><br><span class=\"line\">.                       87203   IN      NS      e.root-servers.net.</span><br><span class=\"line\">.                       87203   IN      NS      f.root-servers.net.</span><br><span class=\"line\">.                       87203   IN      NS      g.root-servers.net.</span><br><span class=\"line\">.                       87203   IN      NS      h.root-servers.net.</span><br><span class=\"line\">.                       87203   IN      NS      i.root-servers.net.</span><br><span class=\"line\">.                       87203   IN      NS      j.root-servers.net.</span><br><span class=\"line\">.                       87203   IN      NS      k.root-servers.net.</span><br><span class=\"line\">.                       87203   IN      NS      l.root-servers.net.</span><br><span class=\"line\">.                       87203   IN      NS      m.root-servers.net.</span><br><span class=\"line\">.                       87203   IN      RRSIG   NS 8 0 518400 20240420050000 20240407040000 5613 . ZhXQ/7ijGbesnEykk6GlTV0uB5AVdgh1yenLcuLCSaBTGw8YgfWWb7i3 hoQiRZICY+++iUQIE2/ELR/ykCYjGD5HwxS0lqfbUZvaY0IcKQ5lsAk3 OQlSEtmpQ+3158l9j5mjiTtb13L7QeJOr+cmJn4Auj+7IWei2irkQdu9 72VOAitFOv/MOin/1LTxAqQvQsK4TRUoQOBSAyJSQIfEqRZI3XhsXbTO itYMIl/MNFYmxGcmEZEAVlzLAHf9EM6yEKCdjQtjdiolzrGXoroBIGEp msbdt1yzs+DcfdJLKGfZujPhvVvwVBEvhfnBZlDLdljcG0pVUcMuMxsz ubJELw==</span><br><span class=\"line\">;; Received 525 bytes from 172.31.224.1#53(172.31.224.1) in 860 ms</span><br><span class=\"line\"></span><br><span class=\"line\">tw.                     172800  IN      NS      a.dns.tw.</span><br><span class=\"line\">tw.                     172800  IN      NS      b.dns.tw.</span><br><span class=\"line\">tw.                     172800  IN      NS      c.dns.tw.</span><br><span class=\"line\">tw.                     172800  IN      NS      d.dns.tw.</span><br><span class=\"line\">tw.                     172800  IN      NS      e.dns.tw.</span><br><span class=\"line\">tw.                     172800  IN      NS      f.dns.tw.</span><br><span class=\"line\">tw.                     172800  IN      NS      g.dns.tw.</span><br><span class=\"line\">tw.                     172800  IN      NS      h.dns.tw.</span><br><span class=\"line\">tw.                     172800  IN      NS      anytld.apnic.net.</span><br><span class=\"line\">tw.                     86400   IN      DS      51277 8 2 462DA9AF501D2B1EEF6725522DB5972F8CD2490B51D92088FF1E3D2D E0EC7BCD</span><br><span class=\"line\">tw.                     86400   IN      RRSIG   DS 8 1 86400 20240420050000 20240407040000 5613 . bB0xNjHOe6pkV/9LpEW/DzuMHtwozTlszTNaFPkO7LRu1WbbEt/+ox7D y+xgud3mLTsva5R7p44ckvH9m14DigO7G2y4TqmwrpfL1AU5rwjkNmbz hCqQcxd3GpXyaCny9TLY0UGeTluKm1/5yt579/QgtKNQ3cwKxdLb43+6 4fP/6YknTbOOqpjToP8RqwSQVSIe1HAChTd3Hb2SSaWopcR+ysH/Jpg6 heJ9fiz8oFUjR52nW0V+Zh/a7zF8PKkkpYRbxha1Qncb3dOu5YqAYmWn s91cFW26MZSvyB1Levy7w1RQjeHC3yKQ4UT7cBqWRMyrKs2knQma0In1 TOtPXw==</span><br><span class=\"line\">;; Received 885 bytes from 170.247.170.2#53(b.root-servers.net) in 230 ms</span><br><span class=\"line\"></span><br><span class=\"line\">ntu.edu.tw.             300     IN      NS      dns.ntu.edu.tw.</span><br><span class=\"line\">ntu.edu.tw.             300     IN      NS      ntu3.ntu.edu.tw.</span><br><span class=\"line\">ntu.edu.tw.             300     IN      NS      dns.tp1rc.edu.tw.</span><br><span class=\"line\">CFHNKGNQ5QOBIB61FV5AKT0CR5554JKT.edu.tw. 300 IN NSEC3 1 0 10 5B7A95B3E7E6DD0C CFN2AMOOKK0JTMIHE976IRUQPHJJED5N NS</span><br><span class=\"line\">CFHNKGNQ5QOBIB61FV5AKT0CR5554JKT.edu.tw. 300 IN RRSIG NSEC3 8 3 300 20240410171756 20240406161756 33219 edu.tw. TcC+thTOZPE+dV/7ttpVsuoSm26If2WrHrDiOVGAx8zhzQtG0TcrZjvi /XQtplFhkF4BAAxXNIZFoYofNuBCi6O76qUqUo69z0t9maHhCk71AjUa TPoISDUfXnTIXLXhsaqvSdYU5x1g5J0IrTKvYOLFYjO5jqqpOy2uk7uI pGY=</span><br><span class=\"line\">;; Received 433 bytes from 182.173.0.10#53(f.dns.tw) in 0 ms</span><br><span class=\"line\"></span><br><span class=\"line\">;; UDP setup with 2001:288:1001:254::4#53(2001:288:1001:254::4) for www.csie.ntu.edu.tw failed: network unreachable.</span><br><span class=\"line\">;; UDP setup with 2001:288:1001:254::4#53(2001:288:1001:254::4) for www.csie.ntu.edu.tw failed: network unreachable.</span><br><span class=\"line\">;; UDP setup with 2001:288:1001:254::4#53(2001:288:1001:254::4) for www.csie.ntu.edu.tw failed: network unreachable.</span><br><span class=\"line\">csie.ntu.edu.tw.        14400   IN      NS      csman2.csie.ntu.edu.tw.</span><br><span class=\"line\">csie.ntu.edu.tw.        14400   IN      NS      csman.csie.ntu.edu.tw.</span><br><span class=\"line\">;; Received 121 bytes from 163.28.16.10#53(dns.tp1rc.edu.tw) in 0 ms</span><br><span class=\"line\"></span><br><span class=\"line\">www.csie.ntu.edu.tw.    600     IN      A       140.112.30.26</span><br><span class=\"line\">www.csie.ntu.edu.tw.    600     IN      RRSIG   A 7 5 600 20240426061133 20240327061133 39023 csie.ntu.edu.tw. I1oK7sS1MyUuQR5ofE6D1fkaFzCnpVV74XD9VkrDyfojMSIajCtoyRUH n9kmRe+hcRpmkDgAcEHtZAAeXzSkPbDgeTaoFKRbWLH2+1i2Ly2Is9vp d06qvt1HE8j1C9ibon9eiGAVIs7uhpImaF2fL30nJKdb01QW4dGhvMic ALAZUJOGPKxZSmCYYe99eCPNIiuSrDs+He7lAdJKgKq9FFAk+Ed3Hsew 8Jo2PRk2eMBalyn8umjD+NXi4tKODWgAjGR2kYbgM5huHTLfmKNUW4yK w/b6wKq8To4VlucLtt6+cvRv9fXHsMxQQu+/9XETAIkv0uwojLEL3E1E 4PCQwQ==</span><br><span class=\"line\">csie.ntu.edu.tw.        600     IN      NS      csman2.csie.ntu.edu.tw.</span><br><span class=\"line\">csie.ntu.edu.tw.        600     IN      NS      ntuns.ntu.edu.tw.</span><br><span class=\"line\">csie.ntu.edu.tw.        600     IN      NS      csman.csie.ntu.edu.tw.</span><br><span class=\"line\">csie.ntu.edu.tw.        600     IN      RRSIG   NS 7 4 600 20240426061133 20240327061133 39023 csie.ntu.edu.tw. PBQqIiK0YOTtYKKjTRmiVgTi4a2gjcByg/hHpob8S2xrzwsBvc8bnndu ofN3YqQ2xjre7SbLCpvb83tPIkypf4lPYILdSEa8Js67jbzFaEl6Zkqf YMqJ9MhcTh2VjckVyMCLBJUha7qBkuxEdUqjyENTyDYezQm9hVvCGjNj tyLDIU6Qp59Ozq55BgnctoCz0sYB8ZqKq9Yva2vEm0lPL659VkAbLz7q F61+qZ3a5xjVpG+xNh8p8w5GaaJY5F69zAzidK4d1fVUOrGf4VB/QEFY cpSSigWPDbhNWOfD/3uzCTspBRU/f3Cwj1X6W76+0oBodButbWbtX+6r uJUENQ==</span><br><span class=\"line\">;; Received 1066 bytes from 140.112.30.13#53(csman.csie.ntu.edu.tw) in 0 ms</span><br></pre></td></tr></table></figure>\n\n<div style=\"page-break-after:always;\"></div>\n\n<h3 id=\"截圖\"><a href=\"#截圖\" class=\"headerlink\" title=\"截圖\"></a>截圖</h3><p><img src=\"https://hackmd.io/_uploads/SyhSvxelR.png\" alt=\"image\"></p>\n<div style=\"page-break-after:always;\"></div>\n\n\n<h2 id=\"3\"><a href=\"#3\" class=\"headerlink\" title=\"3\"></a>3</h2><p>設計 NTU CSIE 的 <code>*.csie.ntu.edu.tw</code> 網域的 DNS 架構需要考慮高可用性、安全性和可擴展性等因素。以下是一些設計方向：</p>\n<h3 id=\"1-設計方向\"><a href=\"#1-設計方向\" class=\"headerlink\" title=\"1 設計方向\"></a>1 設計方向</h3><ol>\n<li><p><strong>多台伺服器的分散式架構</strong>：</p>\n<ul>\n<li>使用多台伺服器來分散 DNS 查詢負載，並實現冗餘和備援。</li>\n<li>這些伺服器可以部署在不同的地理位置，以提高系統的可用性和容錯能力。</li>\n<li>配置主要和次要 DNS 伺服器，以便在其中一台伺服器失效時自動切換到另一台。</li>\n</ul>\n</li>\n<li><p><strong>自動化備份和恢復機制</strong>：</p>\n<ul>\n<li>定期備份 DNS 記錄和設定，並將其存儲在安全的地方。</li>\n<li>實施自動化恢復機制，以在伺服器上的 DNS 記錄丟失或損壞時能夠快速恢復。</li>\n</ul>\n</li>\n<li><p><strong>實驗室子域名的管理</strong>：</p>\n<ul>\n<li>提供一個管理界面或工具，使實驗室能夠請求並管理自己的子域名。</li>\n<li>實現自動化程序來處理這些請求，以確保有效且及時的管理。</li>\n</ul>\n</li>\n<li><p><strong>防禦 DNS 攻擊</strong>：</p>\n<ul>\n<li>實施流量監控和流量限制措施，以應對 DNS flooding 攻擊。</li>\n<li>配置防火牆和入侵檢測系統來檢測和阻止 DNS amplification 攻擊。</li>\n<li>使用安全的軟體和硬體來防止 DNS 竄改攻擊，如 DNSSEC 和適當的加密。</li>\n</ul>\n</li>\n<li><p><strong>監控和日誌</strong>：</p>\n<ul>\n<li>實施監控系統來監視 DNS 伺服器的運行狀態和性能。</li>\n<li>定期審查 DNS 日誌以檢測任何異常活動或潛在的攻擊。</li>\n</ul>\n</li>\n</ol>\n<div style=\"page-break-after:always;\"></div>\n\n\n<h3 id=\"2-危機應對\"><a href=\"#2-危機應對\" class=\"headerlink\" title=\"2 危機應對\"></a>2 危機應對</h3><ol>\n<li><p><strong>如果今天其中一台伺服器壞掉了怎麼辦？</strong></p>\n<ul>\n<li>上述方案中使用了多台伺服器的分散式架構。這意味著即使其中一台伺服器壞掉，其他伺服器仍然可以處理 DNS 查詢，從而保持服務的可用性。</li>\n</ul>\n</li>\n<li><p><strong>如果今天系館停電導致所有機房下線怎麼辦？</strong></p>\n<ul>\n<li>配置主要和次要 DNS 伺服器，這些伺服器可以位於不同的地理位置，例如不同的系館。這樣即使某個機房停電，其他機房的 DNS 伺服器仍然可以繼續提供服務。</li>\n</ul>\n</li>\n<li><p><strong>如果因為某些原因導致伺服器上的 DNS records 不見了怎麼辦？</strong></p>\n<ul>\n<li>實施自動化備份和恢復機制，定期備份 DNS 記錄和設定。即使某些記錄不見了，也可以快速恢復到先前的狀態。</li>\n</ul>\n</li>\n<li><p><strong>有些實驗室想要擁有自己的 subdomain，該如何實現？</strong></p>\n<ul>\n<li>提供一個管理界面或工具，使實驗室能夠請求並管理自己的子域名。並實現自動化程序來處理這些請求，以確保有效且及時的管理。</li>\n</ul>\n</li>\n<li><p><strong>如何應對 DNS flooding attack？</strong></p>\n<ul>\n<li>實施流量監控和流量限制措施，這些措施可以檢測和阻止異常的 DNS 查詢流量，防止 DNS 伺服器被淹沒。</li>\n</ul>\n</li>\n<li><p><strong>如何應對 DNS amplification attack？</strong></p>\n<ul>\n<li>配置防火牆和入侵檢測系統來檢測和阻止 DNS amplification 攻擊。並且定期更新軟體和硬體，以確保它們能夠有效地防止這類攻擊。</li>\n</ul>\n</li>\n<li><p>如何確保對 <em>.csie.ntu.edu.tw 的 query response 不會被攻擊者竄改成 malicious ip 呢？</em>*</p>\n<ul>\n<li>使用安全的軟體和硬體來防止 DNS 竄改攻擊，如 DNSSEC 和適當的加密。這些措施可以確保 DNS 回應的完整性，並防止攻擊者竄改 DNS 記錄。</li>\n</ul>\n</li>\n</ol>\n<div style=\"page-break-after:always;\"></div>\n\n\n<h2 id=\"4\"><a href=\"#4\" class=\"headerlink\" title=\"4.\"></a>4.</h2><p><a href=\"https://doc.powerdns.com/authoritative/backends/\">pDNS doc</a><br><a href=\"https://github.com/PowerDNS\">pDNS github</a><br><a href=\"https://github.com/powerdns/pdns/wiki\">pDNS wiki</a><br><a href=\"https://doc.powerdns.com/authoritative/guides/basic-database.html\">pDNSdocs</a><br>設定 SQLite3 後端</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get update</span><br><span class=\"line\">sudo apt-get install pdns-server pdns-backend-sqlite3</span><br></pre></td></tr></table></figure>\n<p>編輯<code>pdns.conf</code>文件新增以下內容</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vim /etc/powerdns/pdns.conf</span><br><span class=\"line\">launch=gsqlite3</span><br><span class=\"line\">gsqlite3-database=/var/lib/powerdns/pdns.sqlite3</span><br></pre></td></tr></table></figure>\n<p>建立資料庫:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo <span class=\"built_in\">mkdir</span> /var/lib/powerdns</span><br><span class=\"line\">sudo sqlite3 /var/lib/powerdns/pdns.sqlite3 &lt; /usr/share/doc/pdns-backend-sqlite3/schema.sqlite3.sql</span><br><span class=\"line\">sudo <span class=\"built_in\">chown</span> -R pdns:pdns /var/lib/powerdns</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo systemctl start pdns</span><br><span class=\"line\">or</span><br><span class=\"line\">sudo systemctl restart pdns</span><br></pre></td></tr></table></figure>\n<p>檢查</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl status pdns</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://hackmd.io/_uploads/HkOmzQggA.png\" alt=\"image\"></p>\n<div style=\"page-break-after:always;\"></div>\n\n<h3 id=\"測試\"><a href=\"#測試\" class=\"headerlink\" title=\"測試\"></a>測試</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo -u pdns pdnsutil create-zone example.com ns1.example.com</span><br><span class=\"line\">Creating empty zone <span class=\"string\">&#x27;example.com&#x27;</span></span><br><span class=\"line\">Also adding one NS record</span><br><span class=\"line\">$ sudo -u pdns pdnsutil add-record example.com <span class=\"string\">&#x27;&#x27;</span> MX <span class=\"string\">&#x27;25 mail.example.com&#x27;</span></span><br><span class=\"line\">New rrset:</span><br><span class=\"line\">example.com. 3005 IN MX 25 mail.example.com</span><br><span class=\"line\">$ sudo -u pdns pdnsutil add-record example.com. www A 192.0.2.1</span><br><span class=\"line\">New rrset:</span><br><span class=\"line\">www.example.com. 3005 IN A 192.0.2.1</span><br></pre></td></tr></table></figure>\n<p>如果我們現在重新查詢資料庫， <a href=\"http://www.example.com/\">www.example.com</a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ dig +short www.example.com @127.0.0.1</span><br><span class=\"line\">192.0.2.1</span><br><span class=\"line\"></span><br><span class=\"line\">$ dig +short example.com MX @127.0.0.1</span><br><span class=\"line\">25 mail.example.com</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://hackmd.io/_uploads/SJVUGQglA.png\" alt=\"image\"></p>\n<p>如果失敗請看安裝問題</p>\n<div style=\"page-break-after:always;\"></div>\n\n<h3 id=\"安裝問題\"><a href=\"#安裝問題\" class=\"headerlink\" title=\"安裝問題\"></a>安裝問題</h3><h4 id=\"問題1\"><a href=\"#問題1\" class=\"headerlink\" title=\"問題1:\"></a>問題1:</h4><p>binding to UDP socket: Address already in use</p>\n<h4 id=\"解決1\"><a href=\"#解決1\" class=\"headerlink\" title=\"解決1:\"></a>解決1:</h4><p><a href=\"https://www.reddit.com/r/sysadmin/comments/jac1mu/powerdns_error_unable_to_bind_udp_socket_to/\">socket solution</a><br>or</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vim /etc/powerdns/pdns.conf</span><br><span class=\"line\">local-port=5300</span><br></pre></td></tr></table></figure>\n\n<div style=\"page-break-after:always;\"></div>\n\n<h4 id=\"問題2\"><a href=\"#問題2\" class=\"headerlink\" title=\"問題2:\"></a>問題2:</h4><p>system has not been booted with systemd as init system pid 1 . can’t operate.</p>\n<h4 id=\"解決2\"><a href=\"#解決2\" class=\"headerlink\" title=\"解決2:\"></a>解決2:</h4><p>強制執行(前台)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /usr/sbin</span><br><span class=\"line\">./pdns_server --daemon=no --guardian=no --loglevel=9</span><br></pre></td></tr></table></figure>\n<p>or<br><a href=\"https://learn.microsoft.com/zh-tw/windows/wsl/systemd\">systemd</a></p>\n<div style=\"page-break-after:always;\"></div>\n\n<h4 id=\"後端設定\"><a href=\"#後端設定\" class=\"headerlink\" title=\"後端設定:\"></a>後端設定:</h4><p><a href=\"https://doc.powerdns.com/authoritative/backends/generic-sqlite3.html\">backend</a></p>\n<div style=\"page-break-after:always;\"></div>\n\n\n<h2 id=\"powerDNS-admin\"><a href=\"#powerDNS-admin\" class=\"headerlink\" title=\"powerDNS admin\"></a>powerDNS admin</h2><p><a href=\"https://github.com/PowerDNS-Admin/PowerDNS-Admin\">PowerDNS-Admin</a></p>\n<p>我這邊選擇直接在local安裝，不使用Docker<br>按照wiki操作:<br><a href=\"https://github.com/PowerDNS-Admin/PowerDNS-Admin/blob/master/docs/wiki/install/General.md\">General installation</a><br><a href=\"https://github.com/PowerDNS-Admin/PowerDNS-Admin/blob/master/docs/wiki/install/Running-PowerDNS-Admin-on-Ubuntu-or-Debian.md\">Installing PowerDNS-Admin on Ubuntu or Debian based systems</a></p>\n<p>首先設定資料庫(sqlite3跳過)<br><a href=\"../database-setup/README.md\">Database Setup</a></p>\n<div style=\"page-break-after:always;\"></div>\n\n<h3 id=\"建立PowerDNS-API-設定\"><a href=\"#建立PowerDNS-API-設定\" class=\"headerlink\" title=\"建立PowerDNS API 設定\"></a>建立PowerDNS API 設定</h3><p><a href=\"https://doc.powerdns.com/md/httpapi/README/#api-specification\">PowerDNS API doc</a></p>\n<p>編輯<code>pdns.conf</code>文件新增以下內容</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">api=<span class=\"built_in\">yes</span></span><br><span class=\"line\">api-key=changeme</span><br><span class=\"line\"><span class=\"comment\"># Needed before 4.1.0</span></span><br><span class=\"line\">webserver=<span class=\"built_in\">yes</span></span><br></pre></td></tr></table></figure>\n<p>重新啟動 pdns_server 後，測試以下內容</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># List zones</span></span><br><span class=\"line\">curl -H <span class=\"string\">&#x27;X-API-Key: changeme&#x27;</span> http://127.0.0.1:8081/api/v1/servers/localhost/zones | jq .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Create new zone &quot;example.org&quot; with nameservers ns1.example.org, ns2.example.org</span></span><br><span class=\"line\">curl -X POST --data <span class=\"string\">&#x27;&#123;&quot;name&quot;:&quot;example.org.&quot;, &quot;kind&quot;: &quot;Native&quot;, &quot;masters&quot;: [], &quot;nameservers&quot;: [&quot;ns1.example.org.&quot;, &quot;ns2.example.org.&quot;]&#125;&#x27;</span> -v -H <span class=\"string\">&#x27;X-API-Key: changeme&#x27;</span> http://127.0.0.1:8081/api/v1/servers/localhost/zones | jq .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Show the new zone</span></span><br><span class=\"line\">curl -H <span class=\"string\">&#x27;X-API-Key: changeme&#x27;</span> http://127.0.0.1:8081/api/v1/servers/localhost/zones/example.org. | jq .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Add a new record to the new zone (would replace any existing test.example.org/A records)</span></span><br><span class=\"line\">curl -X PATCH --data <span class=\"string\">&#x27;&#123;&quot;rrsets&quot;: [ &#123;&quot;name&quot;: &quot;test.example.org.&quot;, &quot;type&quot;: &quot;A&quot;, &quot;ttl&quot;: 86400, &quot;changetype&quot;: &quot;REPLACE&quot;, &quot;records&quot;: [ &#123;&quot;content&quot;: &quot;192.0.5.4&quot;, &quot;disabled&quot;: false &#125; ] &#125; ] &#125;&#x27;</span> -H <span class=\"string\">&#x27;X-API-Key: changeme&#x27;</span> http://127.0.0.1:8081/api/v1/servers/localhost/zones/example.org. | jq .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Combined replacement of multiple RRsets</span></span><br><span class=\"line\">curl -X PATCH --data <span class=\"string\">&#x27;&#123;&quot;rrsets&quot;: [</span></span><br><span class=\"line\"><span class=\"string\">  &#123;&quot;name&quot;: &quot;test1.example.org.&quot;,</span></span><br><span class=\"line\"><span class=\"string\">   &quot;type&quot;: &quot;A&quot;,</span></span><br><span class=\"line\"><span class=\"string\">   &quot;ttl&quot;: 86400,</span></span><br><span class=\"line\"><span class=\"string\">   &quot;changetype&quot;: &quot;REPLACE&quot;,</span></span><br><span class=\"line\"><span class=\"string\">   &quot;records&quot;: [ &#123;&quot;content&quot;: &quot;192.0.2.5&quot;, &quot;disabled&quot;: false&#125; ]</span></span><br><span class=\"line\"><span class=\"string\">  &#125;,</span></span><br><span class=\"line\"><span class=\"string\">  &#123;&quot;name&quot;: &quot;test2.example.org.&quot;,</span></span><br><span class=\"line\"><span class=\"string\">   &quot;type&quot;: &quot;AAAA&quot;,</span></span><br><span class=\"line\"><span class=\"string\">   &quot;ttl&quot;: 86400,</span></span><br><span class=\"line\"><span class=\"string\">   &quot;changetype&quot;: &quot;REPLACE&quot;,</span></span><br><span class=\"line\"><span class=\"string\">   &quot;records&quot;: [ &#123;&quot;content&quot;: &quot;2001:db8::6&quot;, &quot;disabled&quot;: false&#125; ]</span></span><br><span class=\"line\"><span class=\"string\">  &#125;</span></span><br><span class=\"line\"><span class=\"string\">  ] &#125;&#x27;</span> -H <span class=\"string\">&#x27;X-API-Key: changeme&#x27;</span> http://127.0.0.1:8081/api/v1/servers/localhost/zones/example.org. | jq .</span><br></pre></td></tr></table></figure>\n<h4 id=\"截圖-1\"><a href=\"#截圖-1\" class=\"headerlink\" title=\"截圖\"></a>截圖</h4><p>應該要印出一些json內容<br>有印出就是api正常運作<br><img src=\"https://hackmd.io/_uploads/S1Q17Xxl0.png\" alt=\"image\"></p>\n<div style=\"page-break-after:always;\"></div>\n\n<h3 id=\"安裝-PowerDNS-Admin-所需套件\"><a href=\"#安裝-PowerDNS-Admin-所需套件\" class=\"headerlink\" title=\"安裝 PowerDNS Admin 所需套件\"></a>安裝 PowerDNS Admin 所需套件</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt install -y python3-dev git libsasl2-dev libldap2-dev python3-venv libmariadb-dev pkg-config build-essential curl libpq-dev</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"安裝-NodeJs\"><a href=\"#安裝-NodeJs\" class=\"headerlink\" title=\"安裝 NodeJs\"></a>安裝 NodeJs</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -sL https://deb.nodesource.com/setup_14.x | sudo bash -</span><br><span class=\"line\">sudo apt install -y nodejs</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"安裝-yarn-來配置資源文件\"><a href=\"#安裝-yarn-來配置資源文件\" class=\"headerlink\" title=\"安裝 yarn 來配置資源文件\"></a>安裝 yarn 來配置資源文件</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -sL https://dl.yarnpkg.com/debian/pubkey.gpg | gpg --dearmor | sudo <span class=\"built_in\">tee</span> /usr/share/keyrings/yarnkey.gpg &gt;/dev/null</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;deb [signed-by=/usr/share/keyrings/yarnkey.gpg] https://dl.yarnpkg.com/debian stable main&quot;</span> | sudo <span class=\"built_in\">tee</span> /etc/apt/sources.list.d/yarn.list</span><br><span class=\"line\">sudo apt update &amp;&amp; sudo apt install -y yarn</span><br></pre></td></tr></table></figure>\n<p>For older Debian systems:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add -</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;deb https://dl.yarnpkg.com/debian/ stable main&quot;</span> | sudo <span class=\"built_in\">tee</span> /etc/apt/sources.list.d/yarn.list</span><br><span class=\"line\">sudo apt update -y</span><br><span class=\"line\">sudo apt install -y yarn</span><br></pre></td></tr></table></figure>\n\n<div style=\"page-break-after:always;\"></div>\n\n<h3 id=\"建立-virtualenv-虛擬環境\"><a href=\"#建立-virtualenv-虛擬環境\" class=\"headerlink\" title=\"建立 virtualenv 虛擬環境\"></a>建立 virtualenv 虛擬環境</h3><p><em><strong>Note:</strong></em> Please adjust <code>/opt/web/powerdns-admin</code> to your local web application directory</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/PowerDNS-Admin/PowerDNS-Admin.git /opt/web/powerdns-admin</span><br><span class=\"line\"><span class=\"built_in\">cd</span> /opt/web/powerdns-admin</span><br><span class=\"line\">python3 -mvenv ./venv</span><br></pre></td></tr></table></figure>\n\n<p>啟動您的 python3 環境並安裝 requirements.txt</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">source</span> ./venv/bin/activate</span><br><span class=\"line\">pip install --upgrade pip</span><br><span class=\"line\">pip install -r requirements.txt</span><br></pre></td></tr></table></figure>\n\n<div style=\"page-break-after:always;\"></div>\n\n<h2 id=\"運行-PowerDNS-Admin\"><a href=\"#運行-PowerDNS-Admin\" class=\"headerlink\" title=\"運行 PowerDNS-Admin\"></a>運行 PowerDNS-Admin</h2><p>建立 PowerDNS-Admin 設定檔並根據您的用例進行必要的變更。確保將 SECRET_KEY 變更為您自己產生的長隨機字串（請參閱 Flask 文件）<br><a href=\"https://flask.palletsprojects.com/en/1.1.x/config/#SECRET_KEY\">Flask</a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cp</span> /opt/web/powerdns-admin/configs/development.py /opt/web/powerdns-admin/configs/production.py</span><br><span class=\"line\">vim /opt/web/powerdns-admin/configs/production.py</span><br><span class=\"line\"><span class=\"built_in\">export</span> FLASK_CONF=../configs/production.py</span><br></pre></td></tr></table></figure>\n\n<p>進行資料庫遷移</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> FLASK_APP=powerdnsadmin/__init__.py</span><br><span class=\"line\">flask db upgrade</span><br></pre></td></tr></table></figure>\n\n<p>產生必須文件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn install --pure-lockfile</span><br><span class=\"line\">flask assets build</span><br></pre></td></tr></table></figure>\n\n<p>現在您可以透過命令運行PowerDNS-Admin<br>我這裡使用tmux掛在前台運行<br>同時可以查看所有發生的變化</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./run.py</span><br></pre></td></tr></table></figure>\n<p>進入<code>127.0.0.1:9191</code>可以特別設定，但這是預設port</p>\n<p><img src=\"https://hackmd.io/_uploads/ryqXmdJg0.png\" alt=\"image\"></p>\n<p>建立帳號後登入即可</p>\n<p><img src=\"https://hackmd.io/_uploads/HyfcGdyg0.png\" alt=\"image\"></p>\n<p>連接API (pnds.conf裡面的)<br><img src=\"https://hackmd.io/_uploads/BJ5wUmex0.png\" alt=\"image\"></p>\n<div style=\"page-break-after:always;\"></div>\n\n<h3 id=\"3-透過-PowerDNS-Admin-新增-records。請根據以下故事新增-DNS-records，並附上-dig-後的截圖\"><a href=\"#3-透過-PowerDNS-Admin-新增-records。請根據以下故事新增-DNS-records，並附上-dig-後的截圖\" class=\"headerlink\" title=\"3. 透過 PowerDNS-Admin 新增 records。請根據以下故事新增 DNS records，並附上 dig 後的截圖\"></a>3. 透過 PowerDNS-Admin 新增 records。請根據以下故事新增 DNS records，並附上 dig 後的截圖</h3><h3 id=\"功能1\"><a href=\"#功能1\" class=\"headerlink\" title=\"功能1\"></a>功能1</h3><p>建立zone nasa.csie.tw<br>add Record</p>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Status</th>\n<th>TTL</th>\n<th>Data</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>verification</td>\n<td>TXT</td>\n<td>Active</td>\n<td>60</td>\n<td>“I LOVE NASA”</td>\n</tr>\n</tbody></table>\n<p><img src=\"https://hackmd.io/_uploads/Sya8pygeR.png\" alt=\"image\"></p>\n<div style=\"page-break-after:always;\"></div>\n\n<h3 id=\"功能2\"><a href=\"#功能2\" class=\"headerlink\" title=\"功能2\"></a>功能2</h3><p>建立 Zone Records - sub.nasa.csie.tw</p>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Status</th>\n<th>TTL</th>\n<th>Data</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>*</td>\n<td>NS</td>\n<td>Active</td>\n<td>60</td>\n<td>subns.nasa.csie.tw.</td>\n</tr>\n</tbody></table>\n<p><img src=\"https://hackmd.io/_uploads/ByWCmlxgC.png\" alt=\"image\"></p>\n<div style=\"page-break-after:always;\"></div>\n\n<h3 id=\"功能3\"><a href=\"#功能3\" class=\"headerlink\" title=\"功能3\"></a>功能3</h3><p>建立 Zone Records - subns.nasa.csie.tw</p>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Status</th>\n<th>TTL</th>\n<th>Data</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>@</td>\n<td>A</td>\n<td>Active</td>\n<td>60</td>\n<td>10.1.6.88</td>\n</tr>\n</tbody></table>\n<p><img src=\"https://hackmd.io/_uploads/B1qRElxlR.png\" alt=\"image\"></p>\n<div style=\"page-break-after:always;\"></div>\n\n","feature":true,"text":"NASA HW 7 41173058h 鍾詠傑 refroot name serverspDNS docpDNS githubpDNS wikipDNSdocs...","permalink":"/post/NASA-07","photos":[],"count_time":{"symbolsCount":"14k","symbolsTime":"13 mins."},"categories":[],"tags":[{"name":"NASA","slug":"NASA","count":8,"path":"api/tags/NASA.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#NASA-HW-7\"><span class=\"toc-text\">NASA HW 7</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ref\"><span class=\"toc-text\">ref</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1\"><span class=\"toc-text\">1</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-DNS\"><span class=\"toc-text\">1 DNS</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-DDNS\"><span class=\"toc-text\">2 DDNS</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-root-name-servers\"><span class=\"toc-text\">3 root name servers</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-TXT-records\"><span class=\"toc-text\">4 TXT records</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2\"><span class=\"toc-text\">2</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%B5%90%E6%9E%9C\"><span class=\"toc-text\">結果</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#result\"><span class=\"toc-text\">result</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%88%AA%E5%9C%96\"><span class=\"toc-text\">截圖</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3\"><span class=\"toc-text\">3</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E8%A8%AD%E8%A8%88%E6%96%B9%E5%90%91\"><span class=\"toc-text\">1 設計方向</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E5%8D%B1%E6%A9%9F%E6%87%89%E5%B0%8D\"><span class=\"toc-text\">2 危機應對</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4\"><span class=\"toc-text\">4.</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%B8%AC%E8%A9%A6\"><span class=\"toc-text\">測試</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%9D%E5%95%8F%E9%A1%8C\"><span class=\"toc-text\">安裝問題</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%95%8F%E9%A1%8C1\"><span class=\"toc-text\">問題1:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E6%B1%BA1\"><span class=\"toc-text\">解決1:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%95%8F%E9%A1%8C2\"><span class=\"toc-text\">問題2:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E6%B1%BA2\"><span class=\"toc-text\">解決2:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%BE%8C%E7%AB%AF%E8%A8%AD%E5%AE%9A\"><span class=\"toc-text\">後端設定:</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#powerDNS-admin\"><span class=\"toc-text\">powerDNS admin</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%BB%BA%E7%AB%8BPowerDNS-API-%E8%A8%AD%E5%AE%9A\"><span class=\"toc-text\">建立PowerDNS API 設定</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%88%AA%E5%9C%96-1\"><span class=\"toc-text\">截圖</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%9D-PowerDNS-Admin-%E6%89%80%E9%9C%80%E5%A5%97%E4%BB%B6\"><span class=\"toc-text\">安裝 PowerDNS Admin 所需套件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%9D-NodeJs\"><span class=\"toc-text\">安裝 NodeJs</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%9D-yarn-%E4%BE%86%E9%85%8D%E7%BD%AE%E8%B3%87%E6%BA%90%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">安裝 yarn 來配置資源文件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%BB%BA%E7%AB%8B-virtualenv-%E8%99%9B%E6%93%AC%E7%92%B0%E5%A2%83\"><span class=\"toc-text\">建立 virtualenv 虛擬環境</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%81%8B%E8%A1%8C-PowerDNS-Admin\"><span class=\"toc-text\">運行 PowerDNS-Admin</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-%E9%80%8F%E9%81%8E-PowerDNS-Admin-%E6%96%B0%E5%A2%9E-records%E3%80%82%E8%AB%8B%E6%A0%B9%E6%93%9A%E4%BB%A5%E4%B8%8B%E6%95%85%E4%BA%8B%E6%96%B0%E5%A2%9E-DNS-records%EF%BC%8C%E4%B8%A6%E9%99%84%E4%B8%8A-dig-%E5%BE%8C%E7%9A%84%E6%88%AA%E5%9C%96\"><span class=\"toc-text\">3. 透過 PowerDNS-Admin 新增 records。請根據以下故事新增 DNS records，並附上 dig 後的截圖</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8A%9F%E8%83%BD1\"><span class=\"toc-text\">功能1</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8A%9F%E8%83%BD2\"><span class=\"toc-text\">功能2</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8A%9F%E8%83%BD3\"><span class=\"toc-text\">功能3</span></a></li></ol></li></ol></li></ol>","author":{"name":"G36maid","slug":"blog-author","avatar":"https://i.imgur.com/iNUcO0p.jpg","link":"/","description":"","socials":{"github":"https://github.com/G36maid","twitter":"https://twitter.com/SjLwrO14y68R3Dw","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"NASA_08","uid":"849307f3b8dea5d2e9d7dc03ce25c33b","slug":"NASA-08","date":"2024-04-17T09:25:06.000Z","updated":"2024-04-17T09:25:06.404Z","comments":true,"path":"api/articles/NASA-08.json","keywords":null,"cover":null,"text":"","permalink":"/post/NASA-08","photos":[],"count_time":{"symbolsCount":0,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"G36maid","slug":"blog-author","avatar":"https://i.imgur.com/iNUcO0p.jpg","link":"/","description":"","socials":{"github":"https://github.com/G36maid","twitter":"https://twitter.com/SjLwrO14y68R3Dw","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"NASA_06","uid":"0102bf4f55e27ceea04e1279aab982aa","slug":"NASA-06","date":"2024-04-17T09:25:01.000Z","updated":"2024-04-17T09:26:23.844Z","comments":true,"path":"api/articles/NASA-06.json","keywords":null,"cover":[],"text":"NASA Hw06 OPNSense41173058h鍾詠傑 refOPNsence防火牆manual opnsense-vs-pfsense lab6 mac...","permalink":"/post/NASA-06","photos":[],"count_time":{"symbolsCount":"4.8k","symbolsTime":"4 mins."},"categories":[],"tags":[{"name":"NASA","slug":"NASA","count":8,"path":"api/tags/NASA.json"}],"author":{"name":"G36maid","slug":"blog-author","avatar":"https://i.imgur.com/iNUcO0p.jpg","link":"/","description":"","socials":{"github":"https://github.com/G36maid","twitter":"https://twitter.com/SjLwrO14y68R3Dw","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}